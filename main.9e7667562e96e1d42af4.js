(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"69Hw":function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var o,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",u=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'   <li class="trend-item">\r\n    <a class="trend-link" href="#">\r\n        <div class="trend-thumb" >\r\n            <img class="trend-poster" src="https://image.tmdb.org/t/p/w300'+u(typeof(o=null!=(o=s(t,"poster_path")||(null!=n?s(n,"poster_path"):n))?o:i)===c?o.call(r,{name:"poster_path",hash:{},data:l,loc:{start:{line:5,column:74},end:{line:5,column:89}}}):o)+'" alt="'+u(typeof(o=null!=(o=s(t,"media_type")||(null!=n?s(n,"media_type"):n))?o:i)===c?o.call(r,{name:"media_type",hash:{},data:l,loc:{start:{line:5,column:96},end:{line:5,column:110}}}):o)+'" data-type="'+u(typeof(o=null!=(o=s(t,"media_type")||(null!=n?s(n,"media_type"):n))?o:i)===c?o.call(r,{name:"media_type",hash:{},data:l,loc:{start:{line:5,column:123},end:{line:5,column:137}}}):o)+'" data-src="'+u(typeof(o=null!=(o=s(t,"id")||(null!=n?s(n,"id"):n))?o:i)===c?o.call(r,{name:"id",hash:{},data:l,loc:{start:{line:5,column:149},end:{line:5,column:155}}}):o)+'" height="400">\r\n        </div>\r\n\r\n       <h1 class="trend-title">'+u(typeof(o=null!=(o=s(t,"title")||(null!=n?s(n,"title"):n))?o:i)===c?o.call(r,{name:"title",hash:{},data:l,loc:{start:{line:8,column:31},end:{line:8,column:40}}}):o)+'</h1>\r\n         <div class="trend-text">\r\n            <p class="trend-genre data">'+u(typeof(o=null!=(o=s(t,"genre_ids")||(null!=n?s(n,"genre_ids"):n))?o:i)===c?o.call(r,{name:"genre_ids",hash:{},data:l,loc:{start:{line:10,column:40},end:{line:10,column:53}}}):o)+" | "+u(typeof(o=null!=(o=s(t,"release_date")||(null!=n?s(n,"release_date"):n))?o:i)===c?o.call(r,{name:"release_date",hash:{},data:l,loc:{start:{line:10,column:56},end:{line:10,column:72}}}):o)+"</p>\r\n        </div>  \r\n    </a>     \r\n </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?o:""},useData:!0})},QfWi:function(e,n,t){"use strict";t.r(n);t("yjly"),t("mcqT"),t("JBxO"),t("FdtR");var a=t("zkry"),l=t.n(a),o=t("dcBu"),r=(t("uDJT"),document.querySelector(".section-trend"));r.addEventListener("click",(function(e){e.preventDefault();var n=e.target.dataset.src,t=e.target.dataset.type;fetch("https://api.themoviedb.org/3/"+t+"/"+n+"?api_key=ebb87b3c3ccf067a0867ba65db09dab4&language=en-US&external_source=imdb_id").then((function(e){return e.json()})).then((function(e){var n=l()(e);o.create("\n    \n        "+n+'\n        \n        <button type="button" class="modal-close-button" data-action="close-modal"></button>\n  \n    \n',{onShow:function(e){e.element().querySelector(".modal-close-button").onclick=e.close}}).show()})).catch((function(e){return console.log(e)}))}));var i=t("SzhR");t("VwVG"),t("ELjB"),t("5O+r");i.a.initializeApp({apiKey:"AIzaSyA0wFqssa1iGGeTQCKmksr66cMMVCSABlU",authDomain:"prada-5d339.firebaseapp.com",databaseURL:"https://prada-5d339-default-rtdb.firebaseio.com",projectId:"prada-5d339",storageBucket:"prada-5d339.appspot.com",messagingSenderId:"514379101865",appId:"1:514379101865:web:f8fddd7c1adb579b635bb8"}),i.a.analytics(),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e);var n=document.querySelectorAll(".collapsible");M.Collapsible.init(n)}));var c=i.a.auth(),u=i.a.firestore();u.settings({timestampsInSnapshots:!0});var s={auth:c,db:u},d=(t("RtS0"),t("3dw1"),document.querySelector(".guides")),m=document.querySelectorAll(".logged-out"),p=document.querySelectorAll(".logged-in"),h=document.querySelector(".account-details"),f=function(e){e?(s.db.collection("users").doc(e.uid).get().then((function(n){var t="\n        <div>Logged in as "+e.email+"</div>\n        <div>Nick-name "+n.data().bio+"</div>\n        ";h.innerHTML=t})),p.forEach((function(e){return e.style.display="block"})),m.forEach((function(e){return e.style.display="none"}))):(h.innerHTML="",p.forEach((function(e){return e.style.display="none"})),m.forEach((function(e){return e.style.display="block"})))},v=function(e){if(e.length);else d.innerHTML='<h5 class="center-align">Login to view guides</h5>'};s.auth.onAuthStateChanged((function(e){console.log(e),e?s.db.collection("guides").onSnapshot((function(n){v(n.docs),f(e)}),(function(e){console.log(e)})):(f(),v([]))}));var g=document.querySelector("#signup-form");g.addEventListener("submit",(function(e){e.preventDefault();var n=g["signup-email"].value,t=g["signup-password"].value;s.auth.createUserWithEmailAndPassword(n,t).then((function(e){return s.db.collection("users").doc(e.user.uid).set({bio:g["signup-bio"].value})})).then((function(){var e=document.querySelector("#modal-signup");M.Modal.getInstance(e).close(),g.reset()}))})),document.querySelector("#logout").addEventListener("click",(function(e){e.preventDefault(),s.auth.signOut()}));var y=document.querySelector("#login-form");y.addEventListener("submit",(function(e){e.preventDefault();var n=y["login-email"].value,t=y["login-password"].value;s.auth.signInWithEmailAndPassword(n,t).then((function(e){var n=document.querySelector("#modal-login");M.Modal.getInstance(n).close(),y.reset()}))}));t("SgDD");var b=t("jffb"),_=t.n(b),w=t("69Hw"),S=t.n(w),k={movies:document.querySelector(".trend-movies-js")};var q=function(e){var n=S()(e);k.movies.insertAdjacentHTML("beforeend",n)},E=document.querySelector(".trend-movies-js"),j=document.querySelector(".js-input");j.addEventListener("input",_()((function(){var e=j.value.trim();e&&(E.innerHTML="",fetch("https://api.themoviedb.org/3/search/movie?api_key=ebb87b3c3ccf067a0867ba65db09dab4&language=en-US&include_adult=false&query="+e).then((function(e){return e.json()})).then((function(e){var n=e.results;return q(n)})).catch((function(e){return console.log(e)})))}),500));t("lmye"),t("WB5j"),t("D/wG"),t("wcNg");var x=t("czhI"),L=t.n(x);function P(e,n,t,a,l,o,r){try{var i=e[o](r),c=i.value}catch(e){return void t(e)}i.done?n(c):Promise.resolve(c).then(a,l)}({fetchTrendMovie:function(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.a.defaults.baseURL="https://api.themoviedb.org/3/trending/movie/day?api_key=ebb87b3c3ccf067a0867ba65db09dab4&page=1",e.prev=1,e.next=4,L.a.get();case 4:if(200===(t=e.sent).status){e.next=7;break}throw new Error("error");case 7:return a=t.data.results,e.abrupt("return",n.requestParamTrend(a));case 11:throw e.prev=11,e.t0=e.catch(1),console.log(e.t0),new Error("Error fetching data");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var n=this,t=arguments;return new Promise((function(a,l){var o=e.apply(n,t);function r(e){P(o,a,l,r,i,"next",e)}function i(e){P(o,a,l,r,i,"throw",e)}r(void 0)}))})()},requestParamTrend:function(e){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ebb87b3c3ccf067a0867ba65db09dab4&language=en-US").then((function(e){return e.json()})).then((function(n){var t=n.genres;return e.map((function(e){var n=e.release_date,a=e.poster_path,l=e.title,o=e.id,r=e.media_type,i=e.genre_ids;return n=n.slice(0,4),i.forEach((function(e,n){t.map((function(t){var a=t.id,l=t.name;e===a&&(i[n]=" ",i[n]+=l)}))})),{release_date:n,poster_path:a,title:l,id:o,media_type:r,genre_ids:i}}))}))}}).fetchTrendMovie().then((function(e){q(e)}))},mcqT:function(e,n){},yjly:function(e,n,t){},zkry:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li>"+e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+"</li>"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var o,r,i=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,u="function",s=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="modal-box">\r\n    <div class="modal-section-img">\r\n\r\n        <img class="modal-image" src="https://www.themoviedb.org/t/p/w600_and_h900_bestv2'+s(typeof(r=null!=(r=d(t,"poster_path")||(null!=n?d(n,"poster_path"):n))?r:c)===u?r.call(i,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:89},end:{line:4,column:104}}}):r)+'"\r\n            alt="'+s(typeof(r=null!=(r=d(t,"original_name")||(null!=n?d(n,"original_name"):n))?r:c)===u?r.call(i,{name:"original_name",hash:{},data:l,loc:{start:{line:5,column:17},end:{line:5,column:34}}}):r)+' poster"">\r\n\r\n    </div>\r\n    <div class=" modal-description">\r\n        <h2 class="modal-description-title">'+s(typeof(r=null!=(r=d(t,"original_name")||(null!=n?d(n,"original_name"):n))?r:c)===u?r.call(i,{name:"original_name",hash:{},data:l,loc:{start:{line:9,column:44},end:{line:9,column:61}}}):r)+s(typeof(r=null!=(r=d(t,"title")||(null!=n?d(n,"title"):n))?r:c)===u?r.call(i,{name:"title",hash:{},data:l,loc:{start:{line:9,column:61},end:{line:9,column:70}}}):r)+'</h2>\r\n        <div class="modal-info">\r\n            <ul class="modal-info-list">\r\n                <li>Vote / Votes</li>\r\n                <li>Popularity</li>\r\n                <li>Original Title</li>\r\n                <li>Genre</li>\r\n            </ul>\r\n            <ul class="modal-info-list">\r\n                <li><span>'+s(typeof(r=null!=(r=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?r:c)===u?r.call(i,{name:"vote_average",hash:{},data:l,loc:{start:{line:18,column:26},end:{line:18,column:42}}}):r)+"</span>/<span>"+s(typeof(r=null!=(r=d(t,"vote_count")||(null!=n?d(n,"vote_count"):n))?r:c)===u?r.call(i,{name:"vote_count",hash:{},data:l,loc:{start:{line:18,column:56},end:{line:18,column:70}}}):r)+"</span></li>\r\n                <li>"+s(typeof(r=null!=(r=d(t,"popularity")||(null!=n?d(n,"popularity"):n))?r:c)===u?r.call(i,{name:"popularity",hash:{},data:l,loc:{start:{line:19,column:20},end:{line:19,column:34}}}):r)+"</li>\r\n                <li>"+s(typeof(r=null!=(r=d(t,"original_title")||(null!=n?d(n,"original_title"):n))?r:c)===u?r.call(i,{name:"original_title",hash:{},data:l,loc:{start:{line:20,column:20},end:{line:20,column:38}}}):r)+s(typeof(r=null!=(r=d(t,"original_name")||(null!=n?d(n,"original_name"):n))?r:c)===u?r.call(i,{name:"original_name",hash:{},data:l,loc:{start:{line:20,column:38},end:{line:20,column:55}}}):r)+"</li>\r\n\r\n                "+(null!=(o=d(t,"each").call(i,null!=n?d(n,"genres"):n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:22,column:16},end:{line:22,column:63}}}))?o:"")+'\r\n\r\n            </ul>\r\n        </div>\r\n        <h3 class="about-title">ABOUT</h3>\r\n        <p class="about-text">'+s(typeof(r=null!=(r=d(t,"overview")||(null!=n?d(n,"overview"):n))?r:c)===u?r.call(i,{name:"overview",hash:{},data:l,loc:{start:{line:27,column:30},end:{line:27,column:42}}}):r)+'</p>\r\n        <div class="modal-buttons">\r\n            <button type="button" data-id="'+s(typeof(r=null!=(r=d(t,"id")||(null!=n?d(n,"id"):n))?r:c)===u?r.call(i,{name:"id",hash:{},data:l,loc:{start:{line:29,column:43},end:{line:29,column:49}}}):r)+'">add to\r\n                Watched</button>\r\n            <button type="button" data-id="'+s(typeof(r=null!=(r=d(t,"id")||(null!=n?d(n,"id"):n))?r:c)===u?r.call(i,{name:"id",hash:{},data:l,loc:{start:{line:31,column:43},end:{line:31,column:49}}}):r)+'">add to queue</button>\r\n\r\n        </div>\r\n\r\n    </div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.9e7667562e96e1d42af4.js.map